{% extends "layout.html" %}

{% from "includes/_formhelper.html" import render_field %}
{% block head %}
<meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/static/style.css" >
    <link rel="icon" type="image/vnd.microsoft.icon" href="/static/images/favicon.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="/static/menu.js"></script>
    <link type="text/css" rel="stylesheet" href="/static/responsive-tabs.css" />
    <link type="text/css" rel="stylesheet" href="/static/style_o.css" />
    <link rel="stylesheet" type="text/css" href="/static/font-awesome.css" >
    <link rel="stylesheet" type="text/css" href="/static/remodal.css">
    <link rel="stylesheet" type="text/css" href="/static/remodal-default-theme.css">
{% endblock %}
{% block body %}

    <div class="pbody">
        <div class="img_profile">
            <img style="width: 100%; height: 100%;" src="/data/user_{{user.user_id}}/avatar" />
            {% if session.signedin and session.user_id == user.user_id %}
                <a style="margin: 25px;" href={{url_for("edit_info")}}> Редактировать информацию </a>
            {% elif session.signedin %}
                <a style="margin: 25px;" href={{url_for("write_message", user_id=user.user_id)}}> Написать сообщение </a>
            {% endif %}
        </div>
        <div style="float: left;">
            <h1 style="font-size: 30px; padding-left: 20px; color: rgb(0,0,0); font-weight: bold">
                {{user.user_name}} {{user.user_surname}}
                <span>
                    [Id:{{user.user_id}}]
                </span>
            </h1>
        </div>

        {% block type_profile %}
        {% endblock %}
    </div>
    <div style="height: 800px;" class="pbody">

    </div>


{% endblock %}

{% block scripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<!-- Responsive Tabs JS -->
<script src="/static/jquery.responsiveTabs.js" type="text/javascript"></script>
<script type="text/javascript">
//----------------Вкладки--------------------
	$(document).ready(function () {
		var $tabs = $('#horizontalTab');
		$tabs.responsiveTabs({
			rotate: false,
			startCollapsed: 'accordion',
			collapsible: 'accordion',
			setHash: true,
			disabled: [5],
			click: function(e, tab) {
				$('.info').html('Tab <strong>' + tab.id + '</strong> clicked!');
			},
			activate: function(e, tab) {
				$('.info').html('Tab <strong>' + tab.id + '</strong> activated!');
			},
			activateState: function(e, state) {
				//console.log(state);
				$('.info').html('Switched from <strong>' + state.oldState + '</strong> state to <strong>' + state.newState + '</strong> state!');
			}
		});

		$('#start-rotation').on('click', function() {
			$tabs.responsiveTabs('startRotation', 1000);
		});
		$('#stop-rotation').on('click', function() {
			$tabs.responsiveTabs('stopRotation');
		});
		$('#start-rotation').on('click', function() {
			$tabs.responsiveTabs('active');
		});
		$('#enable-tab').on('click', function() {
			$tabs.responsiveTabs('enable', 3);
		});
		$('#disable-tab').on('click', function() {
			$tabs.responsiveTabs('disable', 3);
		});
		$('.select-tab').on('click', function() {
			$tabs.responsiveTabs('activate', $(this).val());
		});

	});

</script>
{% endblock %}